"0","order_items <- order_items %>%"
"0","  mutate(products_price = as.numeric(products_price)) %>%"
"0","  mutate(products_quantity = as.numeric(products_quantity)) %>%"
"0","  filter(products_price > 0) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""case|CASE|Case"") & !str_detect(products_name, ""6 bottles""), products_quantity * 12, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""case|CASE|Case"") & str_detect(products_name, ""6 bottles""), products_quantity * 6, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""12 Assorted""), products_quantity * 12, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""Assorted""), products_quantity * 12, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""Budget White""), products_quantity * 12, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""30 bottles""), products_quantity * 30, products_quantity)) %>%"
"0","  mutate(products_quantity = ifelse(str_detect(products_name, ""Voucher""), products_quantity * 6, products_quantity))"
"0","# TODO: "
"0","# mixed cases contain 12 bottles (6 red, 6 white)"
"0","# seems all order items with ""case"" in the name, and not a multiple of 6 (or 12?) are actually cases and should be multiplied by 12"
"0","# assuming assorted is 12 too"
"0","# wynklub seems to be just one bottle"
"0","# gift vouchers are tricky ... assume the intention is to buy 6 bottles"
"0","# remove ""as arranged by Johan""?"
"0","# remove wine years?"
"0","# table(order_items$products_quantity)"
"0","# order_items[order_items$products_quantity == 1 & !str_detect(order_items$products_name, ""wynklub""),]"
"0","# order_items[str_detect(order_items$products_name, ""Johan""),]"
